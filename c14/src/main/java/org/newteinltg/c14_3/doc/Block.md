# CHAPTER14 Blocks, Statements, and Patterns

程序的执行顺序由语句控制，这些语句被执行以产生效果，而不具有值。一些语句包含其他语句作为其结构的一部分，也称之为包含子语句。同样地，一些语句包含表达式（§15（Expressions））作为其结构的一部分。  
本章的第一节讨论了正常和突然完成语句之间的区别（§14.1）。大多数剩余部分解释了各种类型的语句，详细描述了它们的正常行为和突然完成的特殊处理。
首先解释block（§14.2），既因为它们可以出现在某些不允许使用语句的地方，也因为一种语句，即局部变量声明语句（§14.4.2），必须直接包含在一个块中。局部类和接口声明（§14.3）不是语句，但也必须直接包含在一个块中。  
接下来，解释了一种避免熟悉的"dangling else"问题（§14.5）的语法策略。
每个语句都必须具有某种技术意义上的可达性（§14.22）。
第14.23-14.29节未使用，以便在未来引入新类型的语句。
本章的最后一节（§14.30）描述了模式，它们用于在语句和表达式中有条件地声明和初始化局部变量。
模式给出了如何将一个值（如对象）从一个或多个其他值组成的简洁描述，由变量声明表示。
模式匹配试图从给定值中提取一个或多个值，仿佛要将其分解，并使用提取出的值初始化模式声明的变量。

## 14.1 正常和突然完成语句

每个语句都有一个正常的执行模式，在其中执行某些计算步骤。以下各节描述了每种语句的正常执行模式。如果所有步骤都按照描述执行，没有突然完成的迹象，那么该语句被认为是正常完成的。然而，某些事件可能阻止语句正常完成：

- break、yield、continue 和 return 语句（§14.15、§14.21、§14.16、§14.17）会导致控制转移，可能阻止包含它们的表达式、语句和块的正常完成。
- 某些表达式的求值可能会从 Java 虚拟机（§15.6）抛出异常。显式 throw（§14.18）语句也会导致异常。异常会导致控制转移，可能阻止语句正常完成。
  如果发生这样的事件，那么一个或多个语句的执行可能在其正常执行模式的所有步骤完成之前被终止；这样的语句被称为突然完成。

突然完成总是有一个相关联的原因，它是以下之一：

- 没有标签的 break
- 带有给定标签的 break
- 没有标签的 continue
- 带有给定标签的 continue
- 没有值的 return
- 带有给定值的 return
- 带有给定值的 throw，包括由 Java 虚拟机抛出的异常
  484BLOCKS, STATEMENTS, AND PATTERNS Blocks 14.2
- 带有给定值的 yield

“正常完成”和“突然完成”这两个术语也适用于表达式（§15.6）的求值。表达式突然完成的唯一原因是抛出异常，因为要么是带有给定值（§14.18）的
throw，要么是运行时异常或错误（§11（异常），§15.6）。

如果一个语句求值一个表达式，表达式突然完成总是导致该语句立即突然完成，原因相同。正常执行模式中所有后续步骤都不执行。

除非本章另有规定，子语句突然完成会导致该语句本身立即突然完成，原因相同，并且该语句正常执行模式中所有后续步骤都不执行。

除非另有规定，如果一个语句求值的所有表达式和它执行的所有子语句都正常完成，则该语句正常完成。

# 14.2 Blocks

一个块（Block）是由大括号内部的一系列语句、局部变量声明语句以及局部类和接口声明组成的序列。

```text
Block:
    { [BlockStatements] }
BlockStatements:
    BlockStatement {BlockStatement}
BlockStatement:
    LocalClassOrInterfaceDeclaration
    LocalVariableDeclarationStatement
    Statement
```

一个块通过按照从第一个到最后（从左到右）的顺序执行每个局部变量声明语句和其他语句来执行。如果所有这些块语句正常完成，则该块正常完成。如果其中任何块语句由于任何原因突然完成，那么该块将因相同原因突然完成。